# iris_rest_api

English | [简体中文](./README-zh.md)

This project is developed on the basis of the iris framework for rapid development of restful interfaces.
Complete development in two steps:
1. Add functions directly in the api directory following user and faq
2. Add a new interface class name in app.go to build and run.
The system will automatically generate router code through conditional compilation, and developers can focus only on developing business logic.


### Specific steps:
1. Clone project
2. Modify the apiRoutes.go.template in the project directory to apiRoutes.go (the following steps will automatically generate the code inside)
3. Create your own api code in the api directory by following user.go and faq.go
4. Add the interface classes you need to expose in app.go, such as: api.UserApi {}, api.FaqApi {},
5. Script build.bat or single step generation:
   -  (1). Run the command to generate the routing code of the api(the api path will be displayed in the console):
        - go run -tags=create_router app.go apiRoutes.go
   -  (2). Files generated by running the command:
        - go build app.go apiRoutes.go
        - Or run the dev environment directly (add dev parameters to run, run without parameters will read conf / prod.conf, please configure the production environment value yourself)
            - go run  app.go apiRoutes.go dev

### Explanation:
1. Automatically create the interface document in _apiDoc.html (generated during the build process)
2. The configuration file is in the conf directory: port, cross domain, mongo, redis, etc.
3. Database-related structures can be placed in model / db_struct.go, and structures used only for interfaces are placed in model / api_struct
4. Unit tests can be written in app_test.go (with examples) and run: go test -count = 1
5. At the same time support yaag document generation, before running test, change BuildApiDoc in init / global.go to true, and then run the program (you need to add dev parameters to generate, in order to prevent the production environment from being executed)
   - The generated files are apiDoc.html and apiDoc.html.json. It will contain the interfaces accessed during the test and send and receive data.

